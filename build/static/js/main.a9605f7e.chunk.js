(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{78:function(e,c,n){},79:function(e,c,n){},80:function(e,c,n){},84:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){},91:function(e,c,n){},92:function(e,c,n){},94:function(e,c,n){"use strict";n.r(c);var a=n(4),s=n(2),t=n.n(s),i=n(26),o=n.n(i),l=(n(78),n(79),n(45)),r=n(36),d=(n(80),n(42)),j=n.n(d),h=n(54),b=n.n(h),u=n(16),m=(n(84),n(30)),O=Object(m.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),p=O.actions.setChannelInfo,x=function(e){return e.app.channelId},f=function(e){return e.app.channelName},v=O.reducer,g=function(e){var c=e.id,n=e.channelName,s=Object(u.b)();return Object(a.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(p({channelId:c,channelName:n}))},children:Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n,console.log(n)]})})},_=n(55),N=n.n(_),S=n(56),I=n.n(S),w=n(57),y=n.n(w),C=n(109),k=n(60),A=n.n(k),z=n(58),D=n.n(z),H=n(59),B=n.n(H),E=Object(m.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),J=E.actions,M=J.login,P=J.logout,V=function(e){return e.user.user},F=E.reducer,G=n(29),L=(G.a.initializeApp({apiKey:"AIzaSyCSs-OuVMrPPlo7aqJusbIPgA66FsywJVw",authDomain:"discord-clone-84016.firebaseapp.com",databaseURL:"https://discord-clone-84016.firebaseio.com",projectId:"discord-clone-84016",storageBucket:"discord-clone-84016.appspot.com",messagingSenderId:"613028618800",appId:"1:613028618800:web:c1bc1af4613c44947903f5",measurementId:"G-0MGYF41JXV"}),G.a.firestore()),U=G.a.auth(),W=new G.a.auth.GoogleAuthProvider;console.log(W);var R=L,T=function(){var e=Object(u.c)(V);console.log(e);var c=Object(s.useState)(),n=Object(r.a)(c,2),t=n[0],i=n[1];Object(s.useEffect)((function(){R.collection("channels").onSnapshot((function(e){i(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))})),console.log(t)}),[]);return Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"sidebar__top",children:[Object(a.jsx)("h2",{children:"Ace Dev"}),Object(a.jsx)(j.a,{})]}),Object(a.jsxs)("div",{className:"sidebar__channels",children:[Object(a.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(a.jsxs)("div",{className:"sidebar__header",children:[Object(a.jsx)(j.a,{}),Object(a.jsx)("h4",{children:" Add Channel"})]}),Object(a.jsx)(b.a,{onClick:function(e){var c=prompt("Enter a new channel name");c&&(R.collection("channels").add({channelName:c}),console.log(t))},className:"sidebar__addChannel"})]}),Object(a.jsx)("div",{className:"sidebar__channelList",children:null===t||void 0===t?void 0:t.map((function(e){return Object(a.jsx)(g,{channelName:e.channelName,id:e.id},e.id)}))})]}),Object(a.jsxs)("div",{className:"sidebar__voice",children:[Object(a.jsx)(N.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(a.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(a.jsx)("h3",{children:"Voice Connected"}),Object(a.jsx)("p",{children:"Stream"})]}),Object(a.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(a.jsx)(I.a,{}),Object(a.jsx)(y.a,{})]})]}),Object(a.jsxs)("div",{className:"sidebar__profile",children:[Object(a.jsx)(C.a,{onClick:function(){return U.signOut()},src:null===e||void 0===e?void 0:e.photo}),Object(a.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(a.jsxs)("h3",{children:[" ",null===e||void 0===e?void 0:e.displayName," "]}),Object(a.jsxs)("p",{children:["#",null===e||void 0===e?void 0:e.uid.substring(0,5)]})]}),Object(a.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(a.jsx)(D.a,{}),Object(a.jsx)(B.a,{}),Object(a.jsx)(A.a,{})]})]})]})},q=(n(89),n(90),n(61)),K=n.n(q),X=n(62),Y=n.n(X),$=n(63),Q=n.n($),Z=n(64),ee=n.n(Z),ce=n(65),ne=n.n(ce),ae=function(e){var c=e.channelName;return Object(a.jsxs)("div",{className:"chatHeader",children:[Object(a.jsx)("div",{className:"chatHeader__left",children:Object(a.jsx)("h3",{children:Object(a.jsxs)("span",{className:"chatHeader__hash",children:["#",c]})})}),Object(a.jsxs)("div",{className:"chatHeader__right",children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(Y.a,{}),Object(a.jsx)(Q.a,{})]}),Object(a.jsxs)("div",{className:"chatHeader__search",children:[Object(a.jsx)("input",{type:"text",placeholder:"Search"}),Object(a.jsx)(ee.a,{}),Object(a.jsx)(ne.a,{})]})]})},se=n(66),te=n.n(se),ie=n(67),oe=n.n(ie),le=n(68),re=n.n(le),de=n(69),je=n.n(de),he=(n(91),function(e){var c=e.timestamp,n=e.user,s=e.message,t=e.photo;return Object(a.jsxs)("div",{className:"message",children:[Object(a.jsx)(C.a,{src:t}),Object(a.jsxs)("div",{className:"message__info",children:[Object(a.jsxs)("h4",{children:[" ",n,Object(a.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(a.jsx)("p",{children:s})]})]})}),be=function(){var e=Object(u.c)(x),c=Object(u.c)(V),n=Object(u.c)(f),t=Object(s.useState)(""),i=Object(r.a)(t,2),o=i[0],l=i[1],d=Object(s.useState)(),j=Object(r.a)(d,2),h=j[0],b=j[1];Object(s.useEffect)((function(){e&&R.collection("channels").doc(e).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){b(e.docs.map((function(e){return e.data()})))}))}),[e]);return Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)(ae,{channelName:n}),Object(a.jsx)("div",{className:"chat__messages",children:null===h||void 0===h?void 0:h.map((function(e){return Object(a.jsx)(he,{timestamp:e.timestamp,message:e.message,user:e.user,photo:c.photo})}))}),Object(a.jsxs)("div",{className:"chat__input",children:[Object(a.jsx)(te.a,{fontSize:"large"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("input",{value:o,disabled:!e,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Message #".concat(n)}),Object(a.jsx)("button",{onClick:function(n){n.preventDefault(),R.collection("channels").doc(e).collection("messages").add({timestamp:G.a.firestore.FieldValue.serverTimestamp(),message:o,user:c.displayName}),l("")},className:"chat__inputButton",type:"submit",children:"Send Message"})]}),Object(a.jsxs)("div",{className:"chat__inputActions",children:[Object(a.jsx)(oe.a,{fontSize:"large"}),Object(a.jsx)(re.a,{fontSize:"large"}),Object(a.jsx)(je.a,{fontSize:"large"})]})]})]})},ue=(n(92),n(108)),me=n(9),Oe=function(){var e=Object(me.f)();return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("h2",{children:" \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2640\ufe0f"}),Object(a.jsx)("div",{className:"login__logo",children:Object(a.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/sco/thumb/9/98/Discord_logo.svg/800px-Discord_logo.svg.png",alt:"discord__logo"})}),Object(a.jsx)(ue.a,{onClick:function(){U.signInWithPopup(W).then(e.push("/ace-dev/chat")).catch((function(e){return console.log(e.message)}))},children:" Sign In"})]})};var pe=function(){var e=Object(u.b)(),c=Object(u.c)(V);return Object(s.useEffect)((function(){U.onAuthStateChanged((function(c){e(c?M({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):P())}))}),[e]),Object(a.jsx)("div",{className:"app",children:c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(T,{}),Object(a.jsx)(be,{})]}):Object(a.jsx)(Oe,{})})},xe=Object(m.a)({reducer:{user:F,app:v}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=n(40);o.a.render(Object(a.jsx)(t.a.StrictMode,{children:Object(a.jsx)(fe.a,{children:Object(a.jsx)(u.a,{store:xe,children:Object(a.jsxs)(me.c,{children:[Object(a.jsx)(me.a,{exact:!0,path:"/",component:Oe}),Object(a.jsx)(me.a,{exact:!0,path:"/ace-dev/chat",component:pe})]})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[94,1,2]]]);
//# sourceMappingURL=main.a9605f7e.chunk.js.map